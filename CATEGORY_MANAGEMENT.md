# ระบบจัดการประเภทครุภัณฑ์

## ภาพรวม
ระบบจัดการประเภทครุภัณฑ์เป็นส่วนที่ช่วยให้ผู้ดูแลระบบสามารถจัดการประเภทและหมวดหมู่ของครุภัณฑ์คอมพิวเตอร์ได้อย่างยืดหยุ่น โดยสามารถเพิ่ม แก้ไข และลบประเภทครุภัณฑ์ได้ตามความต้องการ

## คุณสมบัติหลัก

### 1. การจัดการประเภทครุภัณฑ์
- **เพิ่มประเภทใหม่**: สร้างประเภทครุภัณฑ์ใหม่พร้อมกำหนดไอคอนและสี
- **แก้ไขประเภท**: ปรับปรุงข้อมูลประเภทครุภัณฑ์ที่มีอยู่
- **ลบประเภท**: ลบประเภทครุภัณฑ์ที่ไม่ใช้งานแล้ว (soft delete)
- **แสดงสถิติ**: แสดงจำนวนครุภัณฑ์ในแต่ละประเภท

### 2. ข้อมูลประเภทครุภัณฑ์
- **ชื่อประเภท**: ชื่อที่แสดงในระบบ
- **รหัสประเภท**: รหัสสำหรับอ้างอิง (unique)
- **คำอธิบาย**: รายละเอียดเพิ่มเติม
- **ไอคอน**: ไอคอนที่ใช้แสดงในระบบ
- **สี**: สีที่ใช้แสดงในระบบ
- **ลำดับการแสดงผล**: ลำดับการแสดงในรายการ
- **สถานะ**: ใช้งาน/ไม่ใช้งาน

## หน้าจอในระบบ

### 1. หน้าจัดการประเภทครุภัณฑ์ (`/categories`)
- แสดงรายการประเภทครุภัณฑ์ทั้งหมด
- ค้นหาและกรองประเภทครุภัณฑ์
- แสดงจำนวนครุภัณฑ์ในแต่ละประเภท
- ปุ่มเพิ่ม แก้ไข และลบ

### 2. หน้าเพิ่มประเภทครุภัณฑ์ (`/categories/add`)
- ฟอร์มสำหรับเพิ่มประเภทครุภัณฑ์ใหม่
- การตรวจสอบรหัสซ้ำ
- ตัวเลือกสีและไอคอน
- การตั้งค่าลำดับการแสดงผล

### 3. หน้าแก้ไขประเภทครุภัณฑ์ (`/categories/edit/:id`)
- ฟอร์มสำหรับแก้ไขข้อมูลประเภทครุภัณฑ์
- โหลดข้อมูลเดิมมาแสดง
- การตรวจสอบรหัสซ้ำ (ยกเว้นรายการปัจจุบัน)

## โครงสร้างฐานข้อมูล

### ตาราง `equipment_categories`
```sql
CREATE TABLE equipment_categories (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name VARCHAR(100) NOT NULL,
  code VARCHAR(20) UNIQUE NOT NULL,
  description TEXT,
  icon VARCHAR(50),
  color VARCHAR(20),
  is_active BOOLEAN DEFAULT true,
  sort_order INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### ข้อมูลเริ่มต้น
ระบบจะสร้างประเภทครุภัณฑ์เริ่มต้น 6 ประเภท:
1. **คอมพิวเตอร์** (COMPUTER) - คอมพิวเตอร์ตั้งโต๊ะและเครื่องเซิร์ฟเวอร์
2. **โน้ตบุ๊ค** (LAPTOP) - คอมพิวเตอร์พกพาและแท็บเล็ต
3. **จอภาพ** (MONITOR) - จอภาพและจอแสดงผล
4. **เครื่องพิมพ์** (PRINTER) - เครื่องพิมพ์และเครื่องสแกนเนอร์
5. **UPS** (UPS) - เครื่องสำรองไฟและเครื่องปรับแรงดัน
6. **อุปกรณ์เครือข่าย** (NETWORK) - Switch, Router, และอุปกรณ์เครือข่ายอื่นๆ

## การใช้งาน

### สำหรับผู้ดูแลระบบ (Admin)
- สามารถเพิ่ม แก้ไข และลบประเภทครุภัณฑ์ได้
- จัดการลำดับการแสดงผล
- กำหนดไอคอนและสีสำหรับแต่ละประเภท

### สำหรับผู้จัดการ (Manager)
- สามารถเพิ่ม แก้ไข และลบประเภทครุภัณฑ์ได้
- จัดการลำดับการแสดงผล
- กำหนดไอคอนและสีสำหรับแต่ละประเภท

### สำหรับผู้ใช้งานทั่วไป (User)
- สามารถดูรายการประเภทครุภัณฑ์ได้
- ไม่สามารถแก้ไขหรือลบได้

## การเชื่อมโยงกับระบบอื่น

### ระบบจัดการครุภัณฑ์
- ประเภทครุภัณฑ์จะถูกใช้ในการจัดหมวดหมู่ครุภัณฑ์
- การแสดงผลในรายการครุภัณฑ์
- การกรองและค้นหาครุภัณฑ์

### ระบบรายงาน
- สถิติครุภัณฑ์แยกตามประเภท
- การวิเคราะห์การใช้งาน

## ความปลอดภัย

### Row Level Security (RLS)
- ผู้ใช้ที่เข้าสู่ระบบแล้วสามารถดูประเภทครุภัณฑ์ได้
- เฉพาะ Admin และ Manager เท่านั้นที่สามารถจัดการประเภทครุภัณฑ์ได้

### การตรวจสอบข้อมูล
- ตรวจสอบรหัสซ้ำก่อนบันทึก
- ตรวจสอบข้อมูลที่จำเป็น
- ไม่สามารถลบประเภทที่มีครุภัณฑ์อยู่ได้

## การพัฒนาต่อ

### คุณสมบัติที่อาจเพิ่มในอนาคต
1. **การนำเข้า/ส่งออก**: นำเข้าข้อมูลประเภทครุภัณฑ์จากไฟล์ Excel
2. **การจัดการไอคอน**: เลือกไอคอนจากไลบรารี
3. **การจัดการสี**: เลือกสีจากชุดสีที่กำหนด
4. **การจัดการลำดับ**: ลากและวางเพื่อจัดลำดับ
5. **การสำรองข้อมูล**: สำรองและกู้คืนข้อมูลประเภทครุภัณฑ์

### การปรับปรุงประสิทธิภาพ
1. **การแคช**: แคชข้อมูลประเภทครุภัณฑ์เพื่อเพิ่มความเร็ว
2. **การแบ่งหน้า**: แบ่งหน้าสำหรับรายการประเภทครุภัณฑ์จำนวนมาก
3. **การค้นหาแบบ Real-time**: ค้นหาแบบทันทีขณะพิมพ์

## การทดสอบ

### การทดสอบฟังก์ชัน
1. **เพิ่มประเภทครุภัณฑ์**: ทดสอบการเพิ่มประเภทใหม่
2. **แก้ไขประเภทครุภัณฑ์**: ทดสอบการแก้ไขข้อมูล
3. **ลบประเภทครุภัณฑ์**: ทดสอบการลบ (soft delete)
4. **การตรวจสอบรหัสซ้ำ**: ทดสอบการป้องกันรหัสซ้ำ
5. **การแสดงสถิติ**: ทดสอบการแสดงจำนวนครุภัณฑ์

### การทดสอบการใช้งาน
1. **การนำทาง**: ทดสอบการนำทางระหว่างหน้าต่างๆ
2. **การแสดงผล**: ทดสอบการแสดงผลบนอุปกรณ์ต่างๆ
3. **การตอบสนอง**: ทดสอบการตอบสนองของระบบ

## หมายเหตุ

- ประเภทครุภัณฑ์ที่ถูกลบจะไม่หายไปจากฐานข้อมูล แต่จะถูกตั้งค่า `is_active = false`
- การลบประเภทครุภัณฑ์ที่มีครุภัณฑ์อยู่จะไม่สามารถทำได้
- รหัสประเภทครุภัณฑ์ต้องไม่ซ้ำกันและไม่สามารถแก้ไขได้หลังจากสร้างแล้ว